Не надо много думать о меморизации. Берем глобальную переменную, в которую записываем весь массив до 1.000.000, в теле
функции возвращаем n-1-ый элемент -> profit.
Наверняка есть и другой способ, но о нем лень даже думать, когда можно так легко решить задачу.